Feature: As a new employee
    I as admin should able to add new employee

  Scenario: Add a new employee                           # features/manage_user.feature:4
    Given I as a admin                                   # features/step_definitions/admin_authentication.rb:1
    And I have a list of designation                     # features/step_definitions/employee_registation_steps.rb:14
    When I follow "Add Employee"                         # features/step_definitions/webrat_steps.rb:18
    And I fill in "First Name" with "Abhishek"           # features/step_definitions/webrat_steps.rb:26
    And I fill in "Middle Name" with "Pradeep"           # features/step_definitions/webrat_steps.rb:26
    And I fill in "Last Name" with "Shukla"              # features/step_definitions/webrat_steps.rb:26
    And I select "Team Lead" from "Designation"          # features/step_definitions/webrat_steps.rb:51
    And I fill in "Date of Joining" with "23-07-2009"    # features/step_definitions/webrat_steps.rb:26
    And I fill in "Date of Birth" with "23-07-1982"      # features/step_definitions/webrat_steps.rb:26
    And I select "Male" from "Gender"                    # features/step_definitions/webrat_steps.rb:51
    And I fill in "Address1" with "B-1001, Silvasa Park" # features/step_definitions/webrat_steps.rb:26
    And I fill in "Address2" with ""                     # features/step_definitions/webrat_steps.rb:26
    And I fill in "City" with "Pune"                     # features/step_definitions/webrat_steps.rb:26
    And I fill in "State" with "Maharashtra"             # features/step_definitions/webrat_steps.rb:26
    And I fill in "Country" with "India"                 # features/step_definitions/webrat_steps.rb:26
    And I fill in "Zip Code" with "411005"               # features/step_definitions/webrat_steps.rb:26
    And I fill in "Mobile No." with "1234567890"         # features/step_definitions/webrat_steps.rb:26
    And I fill in "Home No." with ""                     # features/step_definitions/webrat_steps.rb:26
    And I fill in "Office No." with ""                   # features/step_definitions/webrat_steps.rb:26
    And I fill in "login" with "abhishek"                # features/step_definitions/webrat_steps.rb:26
    And I fill in "email" with "abhishek@example.com"    # features/step_definitions/webrat_steps.rb:26
    And I fill in "password" with "secret"               # features/step_definitions/webrat_steps.rb:26
    And I fill in "password confirmation" with "secret"  # features/step_definitions/webrat_steps.rb:26
"::::::::::::::::"
#<User id: "4ded3b92-f134-11de-9efc-001d095360b3", login: "admin", email: "admin@example.com", crypted_password: "1e86560f124bcc076fbcafeae5e3e59b38f646242567eb314d5...", password_salt: "aztpiW08MbaHEQ2w5q7c", persistence_token: "d2f47a881658d22ba80ffa4b310cc70aea07d8130f7fdb421e1...", single_access_token: "0emCN92nTgdYmUQLlBmX", perishable_token: "l8AbNHj2-eoExj7I37BH", is_admin: true, login_count: 1, failed_login_count: 0, last_request_at: "2009-12-25 09:03:02", current_login_at: "2009-12-25 09:03:01", last_login_at: nil, current_login_ip: "127.0.0.1", last_login_ip: nil, voided: false, voided_reason: nil, created_at: "2009-12-25 09:03:01", updated_at: "2009-12-25 09:03:02">
"::::::::::::::::"
[#<UserDetail id: "4e62c236-f134-11de-9efc-001d095360b3", user_id: "4e625116-f134-11de-9efc-001d095360b3", designation_id: 2, first_name: "Abhishek", middle_name: "Pradeep", last_name: "Shukla", date_of_joining: "2009-07-23", date_of_birth: "1982-07-23", gender: "Male", alternative_email: nil, nationality: nil, created_at: "2009-12-25 09:03:02", updated_at: "2009-12-25 09:03:02">]
"::::::::::::::::"
    And I press "Register"                               # features/step_definitions/webrat_steps.rb:14
      You have a nil object when you didn't expect it!
      The error occurred while evaluating nil.first_name (ActionView::TemplateError)
      On line #10 of app/views/admin/users/index.haml
      
          7:   - p "::::::::::::::::"
          8:   - employee_detail = employee.user_detail
          9:   %p
          10:     = employee_detail.first_name + " " + employee_detail.middle_name + " " + employee_detail.last_name
      
          app/views/admin/users/index.haml:10:in `_run_haml_app47views47admin47users47index46haml'
          app/views/admin/users/index.haml:2:in `each'
          app/views/admin/users/index.haml:2:in `_run_haml_app47views47admin47users47index46haml'
          haml (2.2.16) [v] rails/./lib/haml/helpers/action_view_mods.rb:13:in `render_without_mock_proxy'
          /usr/lib/ruby/gems/1.8/gems/rspec-rails-1.2.9/lib/spec/rails/extensions/action_view/base.rb:27:in `render'
          haml (2.2.16) [v] rails/./lib/haml/helpers/action_view_mods.rb:13:in `render_without_mock_proxy'
          /usr/lib/ruby/gems/1.8/gems/rspec-rails-1.2.9/lib/spec/rails/extensions/action_view/base.rb:27:in `render'
          haml (2.2.16) [v] rails/./lib/sass/plugin/rails.rb:19:in `process'
          webrat (0.5.3) lib/webrat/rails.rb:68:in `send'
          webrat (0.5.3) lib/webrat/rails.rb:68:in `do_request'
          webrat (0.5.3) lib/webrat/rails.rb:37:in `get'
          (__FORWARDABLE__):3:in `__send__'
          (__FORWARDABLE__):3:in `get'
          webrat (0.5.3) lib/webrat/core/session.rb:282:in `send'
          webrat (0.5.3) lib/webrat/core/session.rb:282:in `process_request'
          webrat (0.5.3) lib/webrat/core/session.rb:122:in `request_page'
          webrat (0.5.3) lib/webrat/core/session.rb:135:in `request_page'
          webrat (0.5.3) lib/webrat/core/elements/form.rb:20:in `submit'
          webrat (0.5.3) lib/webrat/core/elements/field.rb:203:in `click'
          webrat (0.5.3) lib/webrat/core/scope.rb:275:in `click_button'
          (__FORWARDABLE__):3:in `__send__'
          (__FORWARDABLE__):3:in `click_button'
          (eval):2:in `click_button'
          /features/step_definitions/webrat_steps.rb:15
          cucumber (0.3.101) bin/./lib/cucumber/core_ext/instance_exec.rb:24:in `instance_exec'
          cucumber (0.3.101) bin/./lib/cucumber/core_ext/instance_exec.rb:24:in `cucumber_instance_exec'
          cucumber (0.3.101) bin/./lib/cucumber/core_ext/instance_exec.rb:45:in `cucumber_run_with_backtrace_filtering'
          cucumber (0.3.101) bin/./lib/cucumber/core_ext/instance_exec.rb:12:in `cucumber_instance_exec'
          cucumber (0.3.101) bin/./lib/cucumber/rb_support/rb_step_definition.rb:44:in `invoke'
          cucumber (0.3.101) bin/./lib/cucumber/step_match.rb:16:in `invoke'
          cucumber (0.3.101) bin/./lib/cucumber/ast/step_invocation.rb:42:in `invoke'
          cucumber (0.3.101) bin/./lib/cucumber/ast/step_invocation.rb:29:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/visitor.rb:76:in `visit_step'
          cucumber (0.3.101) bin/./lib/cucumber/formatter/pretty.rb:145:in `visit_step'
          cucumber (0.3.101) bin/./lib/cucumber/ast/step_collection.rb:15:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/step_collection.rb:14:in `each'
          cucumber (0.3.101) bin/./lib/cucumber/ast/step_collection.rb:14:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/visitor.rb:72:in `visit_steps'
          cucumber (0.3.101) bin/./lib/cucumber/ast/scenario.rb:45:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/step_mother.rb:225:in `before_and_after'
          cucumber (0.3.101) bin/./lib/cucumber/ast/scenario.rb:43:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/scenario.rb:99:in `with_visitor'
          cucumber (0.3.101) bin/./lib/cucumber/ast/scenario.rb:37:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/visitor.rb:42:in `visit_feature_element'
          cucumber (0.3.101) bin/./lib/cucumber/formatter/pretty.rb:82:in `visit_feature_element'
          cucumber (0.3.101) bin/./lib/cucumber/ast/feature.rb:25:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/feature.rb:24:in `each'
          cucumber (0.3.101) bin/./lib/cucumber/ast/feature.rb:24:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/visitor.rb:20:in `visit_feature'
          cucumber (0.3.101) bin/./lib/cucumber/formatter/pretty.rb:44:in `visit_feature'
          cucumber (0.3.101) bin/./lib/cucumber/ast/features.rb:29:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/features.rb:17:in `each'
          cucumber (0.3.101) bin/./lib/cucumber/ast/features.rb:17:in `each'
          cucumber (0.3.101) bin/./lib/cucumber/ast/features.rb:28:in `accept'
          cucumber (0.3.101) bin/./lib/cucumber/ast/visitor.rb:16:in `visit_features'
          cucumber (0.3.101) bin/./lib/cucumber/formatter/pretty.rb:28:in `visit_features'
          cucumber (0.3.101) bin/./lib/cucumber/broadcaster.rb:9:in `__send__'
          cucumber (0.3.101) bin/./lib/cucumber/broadcaster.rb:9:in `method_missing'
          cucumber (0.3.101) bin/./lib/cucumber/broadcaster.rb:8:in `map'
          cucumber (0.3.101) bin/./lib/cucumber/broadcaster.rb:8:in `method_missing'
          cucumber (0.3.101) bin/./lib/cucumber/cli/main.rb:53:in `execute!'
          cucumber (0.3.101) bin/./lib/cucumber/cli/main.rb:23:in `execute'
          cucumber (0.3.101) bin/cucumber:9
          /usr/bin/cucumber:19:in `load'
          /usr/bin/cucumber:19
      features/manage_user.feature:28:in `And I press "Register"'
    And I should see "New employee added successfull"    # features/step_definitions/webrat_steps.rb:118
    And I should see "Abhishek Pradeep Shukla"           # features/step_definitions/webrat_steps.rb:118

Failing Scenarios:
cucumber features/manage_user.feature:4 # Scenario: Add a new employee

1 scenario (1 failed)
26 steps (1 failed, 2 skipped, 23 passed)
0m1.039s
